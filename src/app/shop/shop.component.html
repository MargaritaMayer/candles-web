<app-route [name]="'Свечи'"></app-route>
<app-loader [hidden]='candles!==null'></app-loader>

<ng-container *tuiLet="isShowAvailable | async as isShowAvailable">

  <div class="shop" >

    <div class="filter" [hidden]='candles===null'>
        <div class="tui-space_bottom-2">
            <form [formGroup]="form">
                <div>

                    <tui-toggle
                    (click)="showAvailableCandles()"
                    formControlName="isShowAvailableCandles"
                    size="l"
                    class="tui-space_left-1"
                    [showIcons]="true"
                    ></tui-toggle>
                    <span class="toggle__text">В наличии</span>
                </div>
            </form>


        </div>
        <form class="b-form form__select">

            <tui-select
                tuiTextfieldSize="m"
                class="tui-space_vertical-4"
                [formControl]="testValue"
                [tuiTextfieldLabelOutside]="true"
            >
                Character
                <input
                    id="select"
                    tuiTextfield
                    placeholder="Choose your hero"
                />
                <tui-data-list-wrapper
                    *tuiDataList
                    [items]="items"
                ></tui-data-list-wrapper>
            </tui-select>
        </form>

    </div>
    <div class="shop-items">
      <tui-tabs [(activeItemIndex)]="activeItemIndex">
        <button
            tuiTab
            (click)="onClick('Maps')"
        >

            HOLIDAY COLLECTION
        </button>

          <button
          tuiTab
          (click)="onClick('Settings')"
        >

          HYPE COLLECTION
        </button>
      </tui-tabs>
      <div class="container link" [hidden]="isShowAvailable || !isCandles1 ">
          <div class="shop-flex">
              <app-shop-item class="app-shop-item"
                  ngIf="isShowAvailable; else showAllCandles"
                  *ngFor="let c of candlesAvailable"
                  [candle]="c"
                  (clickAddCartItem) = "addCartItem($event)"
              ></app-shop-item>
              <app-shop-item #showAllCandles class="app-shop-item"
                  *ngFor="let c of candles?.['candles-1']"
                  [candle]="c"
                  (clickAddCartItem) = "addCartItem($event)"
              ></app-shop-item>
          </div>
      </div>

      <div class="container link" [hidden]="isShowAvailable || isCandles1 ">
        <div class="shop-flex">
            <app-shop-item class="app-shop-item"
                  ngIf="isShowAvailable; else showAllCandles"
                  *ngFor="let c of candlesAvailable"
                  [candle]="c"
                  (clickAddCartItem) = "addCartItem($event)"
              ></app-shop-item>
            <app-shop-item class="app-shop-item"
                *ngFor="let c of candles?.['candles-2']"
                [candle]="c"
                (clickAddCartItem) = "addCartItem($event)"
            ></app-shop-item>
        </div>
    </div>

    </div>

  </div>
</ng-container>
