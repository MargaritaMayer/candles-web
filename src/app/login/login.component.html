<app-route [name]="'Вход в аккаунт'"></app-route>

<form
    
    class="b-form form"
    [formGroup]="form!"
>
    <p class="form__title form__text">{{titleText}}</p>
    <p class="content__forgot-password link" (click)="resetPassword()" [hidden]="isNewUser || isResetPassword">Забыли пароль?</p>

    <p class="form__info form__text" [hidden]="!isNewUser">{{formText}} </p>
    <div class="content__input">
        <tui-input 
            formControlName="email">
            Введите почту
            <input
                tuiTextfield
                type="email"
            />
        </tui-input>
        
        <div *ngIf="email?.invalid && (email?.dirty || email?.touched)"
            class="alert">
            <div *ngIf="email!.errors?.['required']">
                поле обязательно для заполнения
            </div>
            
            <div *ngIf="email!.errors?.['email']">
                ваш email недействителен, введите верный email
            </div>
        </div>
    </div>
    
    <div class="content__input" [hidden]="isResetPassword">
        <tui-input-password
            formControlName="password"
            class="tui-space_top-2"
        >
            {{passwordPlaceholder}}
            <input
                
                tuiTextfield
                placeholder=""
            />
        </tui-input-password>
        <div *ngIf="password?.invalid && (password?.dirty || password?.touched)"
            class="alert">
            <div *ngIf="password!.errors?.['required']">
                поле обязательно для заполнения
            </div>
            
            <div *ngIf="password!.errors?.['minlength']">
                минимальная длина — 6 символов
            </div>
        </div>
    </div>

    <div class="content__input" [hidden]="!isNewUser">
        <tui-input-password
            formControlName="password2"
            class="tui-space_top-2"
            >
            Подтвердите пароль
            <input
                tuiTextfield
                placeholder=""
            />
        </tui-input-password>
        <div *ngIf="password2?.invalid && (password2?.dirty || password2?.touched)"
            class="alert">
            <div *ngIf="password2!.errors?.['required']">
                поле обязательно для заполнения
            </div>
            
            <div *ngIf="!password2!.errors?.['required'] && password2!.errors?.['passwordsMustMatch']">
                пароль не совпадает, подтвердите пароль
            </div>
        </div>
    </div>
    
    
     
    <div class="content__wrapper">
        <p class="content__registration link" (click)="registration()">Регистрация</p>

        <button  
            (click)="submit()"
            tuiButton
            type="button"
        >
            {{buttonText}}
        </button>
    </div>
    
</form>
